<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://wzrd.in/standalone/buffer"></script>
    <script src="https://unpkg.com/ipfs-api@9.0.0/dist/index.js"
    integrity="sha384-5bXRcW9kyxxnSMbOoHzraqa7Z0PQWIao+cgeg327zit1hz5LZCEbIMx/LWKPReuB"
    crossorigin="anonymous"></script>
    <!-- <script type="text/javascript" src="https://unpkg.com/web3@0.20.5/dist/web3.min.js"></script> -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.3.0/web3.min.js"></script>
    <script src="./js/ipfs-script.js"></script>
  </head>
  <style>
    body {
      max-width: 500px;
      margin: auto;
    }
  </style>
  <body>
    <form>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputRegistroFederal">Registro Federal do Imovel</label>
          <input type="text" class="form-control" id="inputRegistroFederal" placeholder="0001">
        </div>
        <div class="form-group col-md-6">
          <label for="inputRegistroEstadual">Registro Estadual do Imovel</label>
          <input type="text" class="form-control" id="inputRegistroEstadual" placeholder="0002">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputNomeDono">Nome do Dono do Imovel</label>
          <input type="text" class="form-control" id="inputNomeDono" placeholder="Nome do dono">
        </div>
        <div class="form-group col-md-6">
          <label for="inputEstado">Estado</label>
          <input type="text" class="form-control" id="inputEstado" placeholder="Rio de Janeiro">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputAddress">Endereço</label>
        <input type="text" class="form-control" id="inputAddress" placeholder="Rua dos Bobos, nº 0">
        </div>
        <div class="form-group col-md-6">
          <label for="inputCEP">CEP</label>
        <input type="text" class="form-control" id="inputCEP" placeholder="11111-111">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputCartorio">Cartorio</label>
          <input type="text" class="form-control" id="inputCartorio" placeholder="11111-111">
        </div>
        <div class="form-group col-md-4">
          <label for="inputLivro">Livro</label>
          <input type="text" class="form-control" id="inputLivro" placeholder="123">
        </div>
        <div class="form-group col-md-2">
          <label for="inputFolha">Folha</label>
          <input type="text" class="form-control" id="inputFolha" placeholder="11">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="inputDataCompra">Data da Compra do Imovel</label>
          <input type="text" class="form-control" id="inputDataCompra" placeholder="Data Compra">
        </div>
        <div class="form-group col-md-6">
          <label for="inputDataEscritura">Data da Escritura do Imovel</label>
          <input type="text" class="form-control" id="inputDataEscritura" placeholder="Data Escritura">
        </div>
      </div>
      <div class="form-group">
        <label for="inputValor">Valor de Compra do Imovel</label>
        <input type="text" class="form-control" id="inputValor" placeholder="R$ 1000,00">
      </div>
      <div class="form-row">
        <div class="form-group col-md-8">
          <input type="file" name="photo" id="photo">
        </div>
        <div class="form-group col-md-4">
          <label for="staticHash" class="sr-only">Hash</label>
          <input type="text" readonly class="form-control-plaintext" id="staticHash" value="0x0">
        </div>
      </div>
      <button type="button" class="btn btn-primary" onclick="uploadImage()">Entrar</button>
    </form>
    <img id="output">
  </body>
  <script>
    var contract;
    $(document).ready(function(){
      
      web3 = new Web3(web3.currentProvider);
      
      var address = "0x504ECCB3EA169B4FE47447CC6Ac8da8af203412e";
      var abi = [
        {
          "constant": false,
          "inputs": [
            {
              "internalType": "string",
              "name": "_NomeDono",
              "type": "string"
            }
          ],
          "name": "AtualizaInfoImovel",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "payable": false,
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [],
          "payable": false,
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "constant": true,
          "inputs": [
            {
              "internalType": "uint256",
              "name": "_index",
              "type": "uint256"
            }
          ],
          "name": "getByIndex",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "payable": false,
          "stateMutability": "view",
          "type": "function"
        },
        {
          "constant": true,
          "inputs": [],
          "name": "getContractAddress",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "payable": false,
          "stateMutability": "view",
          "type": "function"
        },
        {
          "constant": true,
          "inputs": [],
          "name": "getLenHistorico",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "payable": false,
          "stateMutability": "view",
          "type": "function"
        }
      ];
      
      contract = new web3.eth.contract(abi,address);

      // contract.methods.getContractAddress().call().then(function(){

      // });
      contract.methods.getLenHistorico().call().then(function(len){
        console.log(len);
      });
      // contract.methods.getByIndex().call().then(function(){
        
      // });
      // contract.methods.AtualizaInfoImovel().call().then(function(){
        
      // });
    })
  </script>
</html>
